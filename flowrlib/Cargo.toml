[package]
name = "flowrlib"
version = "0.8.0"
authors = ["Andrew Mackenzie <andrew@mackenzie-serres.net>"]
license = "MIT"
description = "The runtime library for executing 'flow' programs compiled with the 'flowc' compiler"
readme = "https://github.com/andrewdavidmackenzie/flow/README.md"
documentation = "https://github.com/andrewdavidmackenzie/flow/README.md"
homepage = "http://andrewdavidmackenzie.github.io/flow/"
repository = "https://github.com/andrewdavidmackenzie/flow/"
edition = "2018"

[lib]
name = "flowrlib"
path = "src/lib.rs"

test = true
doctest = true
bench = true
doc = true

[features]
default = ["debugger", "metrics", "logging"]
metrics = []
debugger = []
logging = []

[dependencies]
multimap = "~0.5"
log = "0.4.6"
serde_derive = "~1.0.27"
serde = "~1.0.27"
serde_json = "1.0"
error-chain = "0.12.1"
# A std::Instant compatible crate that also supports wasm
instant = { version = "0.1", features = [ "now", "wasm-bindgen" ] }

[target.'cfg(not(target_arch = "wasm32"))'.dependencies]
wasmi = { git = "https://github.com/andrewdavidmackenzie/wasmi" }
#wasmi = "0.5.1"